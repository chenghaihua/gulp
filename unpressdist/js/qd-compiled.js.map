{"version":3,"sources":["qd.js"],"names":[],"mappings":"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","file":"qd-compiled.js","sourcesContent":["/**\r\n * Created by Administrator on 2017/1/21.\r\n */\r\n(function(){\r\n    var hostUrl=\"http://h5.uhelper.cn/Cmateriel/\";\r\n\r\n    //去除ios下弹窗自带网址\r\n    var browser={\r\n        versions:function(){\r\n            var u = navigator.userAgent, app = navigator.appVersion;\r\n            return {\r\n                trident: u.indexOf('Trident') > -1, //IE内核\r\n                presto: u.indexOf('Presto') > -1, //opera内核\r\n                webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核\r\n                gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1,//火狐内核\r\n                mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端\r\n                ios: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端\r\n                android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器\r\n                iPhone: u.indexOf('iPhone') > -1 , //是否为iPhone或者QQHD浏览器\r\n                iPad: u.indexOf('iPad') > -1, //是否iPad\r\n                webApp: u.indexOf('Safari') == -1 //是否web应该程序，没有头部与底部\r\n            };\r\n        }(),\r\n        language:(navigator.browserLanguage || navigator.language).toLowerCase()\r\n    }\r\n\r\n    if(browser.versions.ios){\r\n        window.alert = function(name){\r\n            var iframe = document.createElement(\"IFRAME\");\r\n            iframe.style.display=\"none\";\r\n            iframe.setAttribute(\"src\", 'data:text/plain,');\r\n            document.documentElement.appendChild(iframe);\r\n            window.frames[0].window.alert(name);\r\n            iframe.parentNode.removeChild(iframe);\r\n        };\r\n\r\n        window.confirm = function (message) {\r\n            var iframe = document.createElement(\"IFRAME\");\r\n            iframe.style.display = \"none\";\r\n            iframe.setAttribute(\"src\", 'data:text/plain,');\r\n            document.documentElement.appendChild(iframe);\r\n            var alertFrame = window.frames[0];\r\n            var result = alertFrame.window.confirm(message);\r\n            iframe.parentNode.removeChild(iframe);\r\n            return result;\r\n        };\r\n    }\r\n\r\n\r\n\r\n    //数字转换成货币格式\r\n    Number.prototype.formatMoney = function (places, symbol, thousand, decimal) {\r\n        places = !isNaN(places = Math.abs(places)) ? places : 2;\r\n        symbol = symbol !== undefined ? symbol : \"$\";\r\n        thousand = thousand || \",\";\r\n        decimal = decimal || \".\";\r\n        var number = this,\r\n            negative = number < 0 ? \"-\" : \"\",\r\n            i = parseInt(number = Math.abs(+number || 0).toFixed(places), 10) + \"\",\r\n            j = (j = i.length) > 3 ? j % 3 : 0;\r\n        return symbol + negative + (j ? i.substr(0, j) + thousand : \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousand) + (places ? decimal + Math.abs(number -                i).toFixed(places).slice(2) : \"\");\r\n    };\r\n\r\n    //数字转化为中文大写\r\n    function DX(n) {\r\n        if (!/^(0|[1-9]\\d*)(\\.\\d+)?$/.test(n))\r\n            return \"数据非法\";\r\n        var unit = \"千百拾亿千百拾万千百拾元角分\", str = \"\";\r\n        n += \"00\";\r\n        var p = n.indexOf('.');\r\n        if (p >= 0)\r\n            n = n.substring(0, p) + n.substr(p+1, 2);\r\n        unit = unit.substr(unit.length - n.length);\r\n        for (var i=0; i < n.length; i++)\r\n            str += '零壹贰叁肆伍陆柒捌玖'.charAt(n.charAt(i)) + unit.charAt(i);\r\n        return str.replace(/零(千|百|拾|角)/g, \"零\").replace(/(零)+/g, \"零\").replace(/零(万|亿|元)/g, \"$1\").replace(/(亿)万|壹(拾)/g, \"$1$2\").replace(/^元零?|零分/g, \"\").replace(/元$/g, \"元整\");\r\n    }\r\n\r\n\r\n    function Add(option){\r\n        this.$listWrap=option.listWrap;\r\n        this.$total=option.total;\r\n        this.init();\r\n    }\r\n    Add.prototype={\r\n        constructor:Add,\r\n        init:function(){\r\n            this.forEach();\r\n            this.loadingValue();\r\n        },\r\n        loadingValue:function(){\r\n            var _self=this;\r\n            _self.addTotalNum();\r\n\r\n        },\r\n        forEach:function(){\r\n            var _self=this;\r\n            this.$listWrap.find(\"li\").each(function(index){\r\n                _self.reductionEvent($(this).find(\".btn em\").eq(0));\r\n                _self.addEvent($(this).find(\".btn em\").eq(1));\r\n                _self.inputChangeEvent($(this).find(\".inputNum\"));\r\n                _self.everyTotalPrice($(this).find(\".total_price\"),$(this).find(\"input\").val(),$(this).find(\".onePrice\"));\r\n            });\r\n        },\r\n        everyTotalPrice:function(obj,num,price){\r\n            obj.find(\"em\").html(Number(num*price.html()).formatMoney(1,''));\r\n        },\r\n        addEvent:function(obj){  //加\r\n            var _self=this;\r\n            obj.on(\"touchstart\",function(){\r\n                var input=$(this).siblings().find(\".inputNum\"),\r\n                    maxVal=parseInt(input.attr(\"max\"));\r\n                Num=Number(input.val());\r\n                Num++;\r\n\r\n                if(Num>maxVal){\r\n                    Num=maxVal;\r\n                    alert(\"最大值只能是\"+maxVal+\"吨\");\r\n                }\r\n\r\n                $(this).siblings().find(\".inputNum\").val(Num);\r\n                _self.everyTotalPrice($(this).closest(\"p\").siblings(\".total_price\"),Num,$(this).closest(\"li\").find(\".onePrice\"));\r\n                _self.addTotalNum();\r\n            });\r\n        },\r\n        reductionEvent:function(obj){    //减\r\n            var _self=this;\r\n            obj.on(\"touchstart\",function(){\r\n                var Num=Number($(this).siblings().find(\".inputNum\").val());\r\n                var that=$(this);\r\n                Num--;\r\n                if(Num<1){\r\n                    var s=confirm(\"是否删除此钢材，确定后此钢材不在清单中显示\");\r\n                    if(s){\r\n                       var sale_id=that.closest(\"li\").find(\".sale_id\").val();\r\n\r\n                        $.post(hostUrl+\"intent_add\",{'sale_id':sale_id,'sale_sl':0},function(data){\r\n\r\n                            if(data){\r\n                                that.closest(\"li\").remove();\r\n                            }\r\n\r\n                        },'json');\r\n                    }else{\r\n                        return false;\r\n                    }\r\n                }\r\n                $(this).siblings().find(\".inputNum\").val(Num);\r\n                _self.everyTotalPrice($(this).closest(\"p\").siblings(\".total_price\"),Num,$(this).closest(\"li\").find(\".onePrice\"));\r\n                _self.addTotalNum();\r\n            });\r\n        },\r\n        inputChangeEvent:function(obj){   //输入数字\r\n            var _self=this;\r\n            obj.on(\"input\",function(){\r\n\r\n                if(Number($(this).val())>parseInt($(this).attr(\"max\"))){\r\n                    $(this).val(parseInt($(this).attr(\"max\")));\r\n                    alert(\"最大值只能是\"+parseInt($(this).attr(\"max\")));\r\n                }\r\n                _self.everyTotalPrice($(this).closest(\"p\").siblings(\".total_price\"),$(this).val(),$(this).closest(\"li\").find(\".onePrice\"));\r\n               _self.addTotalNum();\r\n            });\r\n            obj.on(\"blur\",function(){\r\n                if(Number($(this).val())<=0){\r\n                    $(this).val(\"1\");\r\n                    alert(\"只能输入正整数\");\r\n                }\r\n                if(Number($(this).val())<1){\r\n                    var s=confirm(\"是否删除此钢材，确定后此钢材不在清单中显示\");\r\n                    if(s){\r\n                        $(this).closest(\"li\").remove();\r\n                    }else{\r\n                        return false;\r\n                    }\r\n                }\r\n                _self.everyTotalPrice($(this).closest(\"p\").siblings(\".total_price\"),$(this).val(),$(this).closest(\"li\").find(\".onePrice\"));\r\n                _self.addTotalNum();\r\n            });\r\n        },\r\n        addTotalNum:function(){  //统计\r\n            var _self=this;\r\n            this.totalNum=0;\r\n            this.totalPrice=0;\r\n\r\n            this.$listWrap.find(\".inputNum\").each(function(index){\r\n                _self.totalNum+=Number($(this).val());\r\n                //_self.totalPrice+=Number($(this).closest('li').find(\".total_price em\").html());\r\n                 _self.totalPrice+=Number($(this).val())*Number($(this).closest(\"li\").find(\".onePrice\").html());\r\n                console.log(_self.totalPrice);\r\n            });\r\n\r\n            this.$total.find(\"i\").html(this.totalNum);\r\n            this.$total.find(\"span\").eq(1).html(this.totalPrice.formatMoney(2,'¥'));\r\n            this.$total.find(\".capital\").html(DX(Math.abs(this.totalPrice)));\r\n        }\r\n    };\r\n\r\n    new Add({\r\n        \"listWrap\":$(\"#list\"),\r\n        \"total\":$(\".total\")\r\n    });\r\n\r\n\r\n    /*验证*/\r\n    function Reg(options){\r\n        this.$btn=options.btn;\r\n        this.$input=options.input;\r\n        this.init();\r\n    }\r\n    Reg.prototype={\r\n        constructor:Reg,\r\n        init:function(){\r\n            this.submitEvent();\r\n        },\r\n        submitEvent:function(){\r\n            var _self=this;\r\n            this.$btn.on(\"click\",function(){\r\n\r\n                var input=_self.$input;\r\n\r\n                if(!input.eq(0).val()){\r\n                    alert(\"联系人不能为空\");\r\n                    return false;\r\n                }\r\n                if(!/^1\\d{10}$/.test(input.eq(1).val())){\r\n                    input.eq(1).val(\"\");\r\n                    alert(\"手机号输入有误\");\r\n                    return false;\r\n                }\r\n                if(!input.eq(2).val()){\r\n                    alert(\"公司名字不能为空\");\r\n                    return false;\r\n                }\r\n                if(!input.eq(3).val()){\r\n                    alert(\"收货地址不能为空\");\r\n                    return false;\r\n                }\r\n\r\n                if(!$(\"#list\").find(\"li\").length){\r\n                    alert(\"采购清单不能为空\");\r\n                    return false;\r\n                }\r\n                var s=confirm(\"是否提交采购清单\");\r\n                if(s) {\r\n                    return true;\r\n                }else{\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    new Reg({\r\n        \"btn\":$(\".submitBtn input[type=submit]\"),\r\n        \"input\":$(\".qd-bot input\")\r\n    })\r\n\r\n})();"]}